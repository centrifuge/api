network:
  chainId: '1' # Ethereum Mainnet
  endpoint: "https://mainnet.infura.io/v3/${ETH_NODE_API_KEY}"
  dictionary: "https://gx.api.subquery.network/sq/subquery/eth-dictionary"
dataSources:
  - kind: ethereum/Runtime
    startBlock: 18671269
    options:
      abi: poolManager
      address: '0x78E9e622A57f70F1E0Ec652A4931E4e278e58142'
    assets:
      poolManager:
        file: './poolManager.abi.json'
    mapping:
      file: './dist/index.js'
      handlers:
        - handler: handleEvmDeployTranche
          kind: ethereum/LogHandler
          filter:
            topics:
              - DeployTranche(uint64 indexed poolId, bytes16 indexed trancheId, address indexed token)